
# Copilot Instructions for tex-comment-remover (Web)

## このドキュメントについて

- GitHub Copilot や各種 AI ツールが本リポジトリのコンテキストを理解しやすくするためのガイドです。
- 新しい機能を実装する際はここで示す技術選定・設計方針・モジュール構成を前提にしてください。
- 不確かな点がある場合は、リポジトリのファイルを探索し、ユーザーに「こういうことですか?」と確認をするようにしてください。

## 前提条件

- 回答は必ず日本語でしてください。
- コードの変更をする際、変更量が200行を超える可能性が高い場合は、事前に「この指示では変更量が200行を超える可能性がありますが、実行しますか?」とユーザーに確認をとるようにしてください。
- 何か大きい変更を加える場合、まず何をするのか計画を立てた上で、ユーザーに「このような計画で進めようと思います。」と提案してください。この時、ユーザーから計画の修正を求められた場合は計画を修正して、再提案をしてください。

## アプリ概要

**tex-comment-remover (Web)** は、TeX文書からコメントを削除するためのWebアプリケーションです。

### 主な機能

- **コメント削除**: TeX文書からコメントを削除

## 技術スタック概要

- **言語**: TypeScript 5.x
- **フレームワーク**: Next.js 16.x
- **スタイリング**: Tailwind CSS
- **リンター/フォーマッター**: ESLint + Prettier
- **型チェック**: TypeScript strict mode

## コーディング規約・ベストプラクティス

### TypeScript の作法

- **strict モード**: `tsconfig.json` で `strict: true`
- **any の禁止**: `no-explicit-any` ルールを有効化
- **型推論の活用**: 冗長な型注釈は避け、推論に任せる
- **ユニオン型**: 状態を明示的に表現 (例: `type Status = 'idle' | 'loading' | 'success' | 'error'`)

### React の作法

- **関数コンポーネント**: クラスコンポーネントは使用しない
- **hooks のルール**: トップレベルでのみ呼び出し、条件分岐内で呼び出さない
- **useEffect の依存配列**: 正確に指定し、不要な再実行を防ぐ
- **key prop**: リストレンダリング時に一意で安定した key を使用

### Next.js (App Router) の作法

- **ディレクトリ構成**: app/ 配下に機能ごとのセグメント（例: app/(auth)/login/page.tsx）を配置し、page.tsx, layout.tsx, loading.tsx, error.tsx, not-found.tsx の命名規約を守る
- **Server Components をデフォルトに**: 可能な処理はサーバーコンポーネントで実装し、クライアント専用の UI ロジックのみ "use client" を付けたクライアントコンポーネントにする
- **"use client" の最小化**: 必要最小限のファイルにのみ付与し、子コンポーネントに伝搬することを避ける
- **レイアウトの使い分け**: layout.tsx で共通 UI（ナビ、サイドバー）やセッションプロバイダを配置し、再レンダリングを減らすために状態を適切に分割する
- **パフォーマンス**: 不要なクライアントバンドルを避ける（"use client" を付けたファイルを最小限にする）、画像は next/image を活用する

## まとめ

このドキュメントを常に最新に保ち、新しい技術選定や設計変更があった場合は適宜更新してください。GitHub Copilot や AI ツールは、このドキュメントを参照することで、プロジェクトのコンテキストを正確に理解し、より適切なコード提案を行うことができます。

チーム全体でこのガイドラインに従うことで、コードの一貫性と保守性が向上し、新しいメンバーのオンボーディングも円滑になります。

---

** tex-comment-remover (Web)** は、モダンな Next.js 開発のベストプラクティスを取り入れた、スケーラブルで保守性の高いアーキテクチャを目指しています。
